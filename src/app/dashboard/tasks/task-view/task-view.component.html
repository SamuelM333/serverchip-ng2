<md-progress-spinner *ngIf="loading" color="primary" mode="indeterminate" strokeWidth="3"></md-progress-spinner>
<md-card [class.hidden]="loading" *ngIf="!loading" class="main-card">
  <md-card-content>
    <article class="content">
      <div>
        <h1 class="card-title">
          <a class="text-link" [routerLink]="['/dashboard', 'tasks']">
            <i class="fa fa-chevron-left" aria-hidden="true"></i> {{task?.name}}
          </a>
        </h1>
        <h3 class="card-subtitle">{{task?.description}}</h3>
      </div>
      <div>
        <p><b>Output port number: </b>{{ task?.output_port.number }}</p>
        <p><b>Output port state: </b>{{ task?.output_port.state }}</p>
        <p>
          <b>Microchip: </b>
          <a class="text-link" [routerLink]="['/dashboard', 'microchips', task?.microchip._id]">
            {{ task?.microchip.name }}
          </a>
        </p>
        <p><b>Microchip IP: </b>{{ task?.microchip.ip }}</p>
        <p><b>Conditions: </b></p>
        <div class="condition" *ngFor="let condition of task?.conditions">
          <p><b>Name: </b>{{condition.name}}</p>
        </div>
        <div class="card-actions">
          <a md-fab color="primary" [routerLink]="['/dashboard', 'tasks', 'edit', task?._id]"
             mdTooltip="Edit task" mdTooltipPosition="below">
            <md-icon>edit</md-icon>
          </a>
          <button md-fab color="warn" (click)="openDialog()"
                  mdTooltip="Delete task" mdTooltipPosition="below">
            <md-icon>delete</md-icon>
          </button>
        </div>
      </div>
    </article>
  </md-card-content>
</md-card>
